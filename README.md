
# DevOps Graduation Project - CI/CD Pipeline for Dockerized JPetStore App

## Project Overview

This project demonstrates a complete DevOps pipeline that automates the provisioning, configuration, and deployment of a Dockerized Java web application (JPetStore) to an AWS EC2 instance using the following tools:

- **Terraform** for Infrastructure as Code (IaC)
- **Ansible** for configuration management and deployment
- **Docker** for containerization
- **Jenkins** for Continuous Integration and Continuous Deployment (CI/CD)
- **GitHub** for source code version control
- **AWS EC2** for cloud hosting

---

## Pipeline Flow

1. **Code pushed to GitHub**
2. **Jenkins** pulls the latest code and triggers the pipeline
3. **Docker** image is built and optionally pushed to Docker Hub
4. **Terraform** provisions a new EC2 instance
5. **Inventory script** generates a dynamic Ansible inventory using the new EC2 public IP
6. **Ansible** connects to the EC2 instance and:
   - Installs Docker
   - Pulls the JPetStore Docker image
   - Runs the container

---

## Technologies Used

| Tool       | Purpose                           |
|------------|-----------------------------------|
| Terraform  | Provision AWS infrastructure      |
| Ansible    | Configure and deploy the app      |
| Jenkins    | Orchestrate the CI/CD pipeline    |
| Docker     | Containerize the Java application |
| AWS EC2    | Host the application              |
| GitHub     | Version control                   |

---

## Project Structure

```
.
├── Jenkinsfile                # Defines pipeline steps
├── Dockerfile                 # Builds Docker image for JPetStore
├── deploy.yml                 # Ansible playbook for deployment
├── generate-inventory.sh     # Bash script to create dynamic inventory
├── inventory.ini              # Generated by script, used by Ansible
├── infrastructure/
│   ├── main.tf                # Terraform configuration
│   └── variables.tf           # Input variables
```

---

## Requirements

- AWS Account and IAM credentials
- SSH key pair for EC2 access
- Jenkins installed and configured with:
  - Git plugin
  - Docker plugin
  - Terraform and Ansible installed on the Jenkins agent

---

## Setup Instructions

1. **Clone the Repository**
   ```bash
   git clone https://github.com/your-username/devops-graduation-project.git
   ```

2. **Configure AWS Credentials**
   Add your AWS credentials to Jenkins securely using "Manage Credentials".

3. **Configure Jenkins Pipeline**
   - Create a new Jenkins pipeline project.
   - Link it to your GitHub repository.
   - Add the necessary credentials for SSH and AWS.

4. **Run the Pipeline**
   - Commit and push any change to trigger the pipeline.
   - Jenkins will provision infrastructure, generate inventory, and deploy the app.

---

## Destroying Resources

To clean up and destroy the EC2 instance:

```bash
cd infrastructure/
terraform destroy
```

Make sure your AWS credentials are set and `terraform init` has been run before destroying.

---

## Screenshots (Optional)

Add pipeline run screenshots or the deployed app to make it more visual.

---

## Author

**Mohamed Usama**  
DevOps Engineer  

---

## License

This project is for educational purposes.
